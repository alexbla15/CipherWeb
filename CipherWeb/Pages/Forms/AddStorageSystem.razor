@page "/forms/AddStorageSystem"

<PageTitle>מערכת חדשה</PageTitle>

<CipherComponentCard Underline="true" WithCard="false" Title="@($"הוספת {ObjectName}")" ContentDisplay="flex" ContentJustify="flex-start" ContentFlexWrap="wrap">
    <CipherComponentCard Title="@($"פרטי ה{ObjectName}")" ContentDisplay="flex" ContentJustify="flex-start" ContentFlexWrap="wrap">
        @* -- Name -- *@
        <CipherAutoComplete Icon="@Icons.Cipher.Id" @bind-Value="sys.Description" Label="@($"שם ה{ObjectName}")" />

        @if (ObjectName == "מערכת")
        {
            <CipherSystemType/>
        }

        @if (ObjectName != "מבנה")
        {
            <CipherAutoComplete Icon="@Icons.Cipher.Unit" Label="@(StorageSystem.Translate(nameof(CachedData.SystemExample.Unit)))" />
            <CipherLocation Label="מיקום" />
        }
        <CipherDatePicker Label="תאריך פתיחה" Icon="@Icons.Arrows.Start" />
    </CipherComponentCard>

    <CipherSystemRestictions ObjectName="@ObjectName" />

    <CipherComments />
    <CipherSubmit ActionText="@($"{ObjectName} בשם A. ה{ObjectName} ללא מגבלות.")"></CipherSubmit>
</CipherComponentCard>

@code {
    [Parameter]
    public string ObjectName { get; set; } = "מערכת";
    private bool ShowHelpText = true;
    private int components = 0;

    private StorageSystem sys = StorageSystem.Random();
}
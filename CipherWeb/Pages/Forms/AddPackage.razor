@page "/forms/addpackage"

<PageTitle>תעודה חדשה</PageTitle>
<CipherComponentCard Underline="true" WithCard="false" Title="תעודה חדשה" ContentDisplay="flex" ContentJustify="flex-start" ContentFlexWrap="wrap">
    <CipherFormInfo/>
    <CipherInputComponents />
    <CipherPackageInfo IsNew="true" Title="פרטי התעודה החדשה" @ref="PackInfo"/>

    <CipherComponentCard Title="תעודות קיימות המוכלות בתעודה זו">
        <CipherPackagesPicking/>
    </CipherComponentCard>

    <CipherComments />
    <CipherButton Text="בדיקה" Click="FillDetails"></CipherButton>
    <CipherSubmit ActionText="@($"תעודה {pack.Id} נפתחה בתאריך 29/06/2024 על ידי אבי רון מתוך 5 תעודות שונות. התעודה החדשה במסה 5 גרם.")"></CipherSubmit>
</CipherComponentCard>

@code {
    private CipherPackageInfo PackInfo = new CipherPackageInfo();

    private Package pack = Package.New();

    protected override void OnInitialized()
    {
        FillDetails();
    }

    public void FillDetails()
    {
        pack.Id = PackInfo.GetPackId();
    }
}
@page "/"
@namespace CipherWeb.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";
}

<script src="~/site.js"></script>

<component type="typeof(App)" render-mode="ServerPrerendered" />

<script>
    window.BlazorDownloadFile = function (url, fileName) {
        // Create a temporary anchor element
        var element = document.createElement('a');
        element.style.display = 'none';
        element.href = url;
        element.setAttribute('download', fileName);

        // Append the anchor element to the document body
        document.body.appendChild(element);

        // Trigger the download
        element.click();

        // Remove the anchor element from the document body
        document.body.removeChild(element);
    };

    function downloadFileFromBase64(base64Data, fileName) {
        const linkSource = `data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,${base64Data}`;
        const downloadLink = document.createElement("a");
        downloadLink.href = linkSource;
        downloadLink.download = fileName;
        downloadLink.click();
    }
</script>
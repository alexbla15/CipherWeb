@inherits CipherComponentCard

@code {
    /// <summary>
    /// Width of each row within card.
    /// </summary>
    [Parameter]
    public string RowWidth { get; set; } = "400px";

    /// <summary>
    /// Set editability of each row.
    /// </summary>
    [Parameter]
    public bool ReadOnly { get; set; } = false;

    public class Analysis
    {
        public int Id { get; set; }
        public string Type { get; set; }
        public decimal Value { get; set; }
        public DateTime EventDate { get; set; }
    }

    private List<StorageSystem> systems = new List<StorageSystem>();
    private List<Analysis> analysis = new();
    private ErrorResponse error = ErrorResponse.Success;

    private StorageSystem sys = StorageSystem.Random();

    protected override void OnInitialized()
    {
        (systems, error) = StorageSystem.All();
    }
}

<CipherComponentCard Title="@Title" WithCard="@WithCard">
    <HeaderContent>
        <RadzenStack AlignItems="AlignItems.Start" JustifyContent="JustifyContent.Start">
            <CipherAutoComplete TextProperty="@(nameof(sys.Id))" Label="שם המיקום" Data="@systems"></CipherAutoComplete>
        </RadzenStack>
    </HeaderContent>
    <ChildContent>
        <RadzenTabs>
            <Tabs>
                <RadzenTabsItem Text="פרטים">
                    <CipherComponentCard WithCard="false" ContentDisplay="flex" ContentJustify="flex-start" ContentFlexWrap="wrap">
                        <Buttons>
                            <CipherNavButton Icon="@Icons.Documents.Edit._Edit" HelpText="עריכת נתונים" Path="@CipherNavLinks.AddStorageSystem.Href" Variant="Variant.Outlined" />
                            <CipherButton Icon="@Icons.Security.Shield" HelpText="אישור בטיחות" Variant="Variant.Outlined" />
                        </Buttons>
                        <ChildContent>
                            <CipherAutoComplete Label="@(sys.Translate(nameof(sys.Id)))" Icon="@Icons.Cipher.Id" Width="@RowWidth" Disabled="@ReadOnly" />
                            <CipherAutoComplete Label="@(sys.Translate(nameof(sys.Name)))" Icon="@Icons.Cipher.Location" Width="@RowWidth" Disabled="@ReadOnly" />
                            <CipherAutoComplete Label="@(sys.Translate(nameof(sys.Description)))" Icon="@Icons.Documents.Page.Description" Width="@RowWidth" Disabled="@ReadOnly" />
                            <CipherAutoComplete Label="@(sys.Translate(nameof(sys.Parent)))" Icon="@Icons.Travel.Navigation.MyLocation" Width="@RowWidth" Disabled="@ReadOnly" />
                            <CipherAutoComplete Label="@(sys.Translate(nameof(sys.Unit)))" Icon="@Icons.Cipher.Unit" Width="@RowWidth" Disabled="@ReadOnly" />
                            @*<CipherDatePicker Label="תאריך פתיחה" Disabled="@ReadOnly" Width="@RowWidth" />*@
                            @*<CipherNumeric Label="שאריות" Icon="@Icons.Documents.Delete._Delete" Width="@RowWidth" Disabled="@ReadOnly" />*@
                            @*<CipherAutoComplete Label="מגבלות" Icon="@Icons.Documents.Delete.Dangerous" Width="@RowWidth" Disabled="@ReadOnly" />*@
                        </ChildContent>
                    </CipherComponentCard>
                </RadzenTabsItem>

                <RadzenTabsItem Text="תעודות">
                    <CipherPackagesTable WithHeaderContent=false Title="" WithCard="false" />
                </RadzenTabsItem>

                <RadzenTabsItem Text="כלים">
                    <CipherPackagesTable WithHeaderContent=false Title="" WithCard="false" />
                </RadzenTabsItem>

                <RadzenTabsItem Text="מערכות">
                    <CipherPackagesTable WithHeaderContent=false Title="" WithCard="false" />
                </RadzenTabsItem>

                <RadzenTabsItem Text="תחומים">
                    <CipherPackagesTable WithHeaderContent=false Title="" WithCard="false" />
                </RadzenTabsItem>

                <RadzenTabsItem Text="תנועות">
                    <CipherEventsTable Title="" WithCard="false" />
                </RadzenTabsItem>
            </Tabs>
        </RadzenTabs>
    </ChildContent>
</CipherComponentCard>
@inherits CipherComponentCard

<CipherComponentCard Title="פרטי המערכת" ContentDisplay="flex" ContentJustify="flex-start" ContentFlexWrap="wrap">
    <CipherAutoComplete Label="@StorageSystem.Translate(nameof(CachedData.SystemExample.Name))" Icon="@Icons.Cipher.Location" @ref=SysName />
    <CipherComments @ref="SysDescription" WithCard="false" Title="" Label="@StorageSystem.Translate(nameof(CachedData.SystemExample.Description))" 
    Icon="@Icons.Documents.Page.Description" Width="300px" />
    <CipherLocation @ref="SysParent" />
</CipherComponentCard>

@code {
    private CipherAutoComplete SysName = new();
    private CipherLocation SysParent = new();
    private CipherComments SysDescription = new();

    public SystemRequest Value()
    {
        SystemRequest sys = SystemRequest.Empty();

        sys.Name = SysName.Check() ? SysName.Value : string.Empty;
        sys.Description = SysDescription.Value();
        sys.ParentId = SysParent.Value?.Id;

        return sys;
    }

    /// <summary>
    /// Outside Value-function, since it can be null within VesselRequest, but you cannot pass the request if there is an error.
    /// </summary>
    /// <returns></returns>
    public Tuple<bool, string> CheckName()
    {
        bool ValidName = SysName.Check();
        return new(ValidName, Vessel.Translate(nameof(CachedData.VesselExample.Name)));
    }
}
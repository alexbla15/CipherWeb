@inherits CipherComponentCard

@code {
    /// <summary>
    /// Width of card containing the comments component.
    /// </summary>
    [Parameter]
    public string CardWidth { get; set; } = "100%";

    /// <summary>
    /// Value of component.
    /// </summary>
    [Parameter]
    public string Comments { get; set; } = string.Empty;

    /// <summary>
    /// Placeholder of the comments' text box.
    /// </summary>
    [Parameter]
    public string? Placeholder { get; set; } = "הערות";

    /// <summary>
    /// Label of the comments' text box.
    /// </summary>
    [Parameter]
    public string? Label { get; set; } = "הערות";

    /// <summary>
    /// Background color of the text box containing the comments.
    /// </summary>
    [Parameter]
    public string TextBoxBackgroundColor { get; set; } = "white";

    /// <summary>
    /// Icon of component.
    /// </summary>
    [Parameter]
    public string Icon { get; set; } = Icons.Communication.Chat.Comment;

    private CipherComponentCard Card;
    private CipherAutoComplete component = new();

    /// <summary>
    /// Style of text-box.
    /// </summary>
    /// <returns></returns>
    public string TextAreaStyle()
    {
        return $@"
            background-color: {TextBoxBackgroundColor};
            align-content: center;
            max-width: {Card.MaxWidth};
            width: {Width};
            float: {Card.Float};
            min-height: 52px";
    }

    protected override void OnInitialized()
    {
        Title ??= "הערות";

        CardWidth = (WithCard) ? CardWidth : "";
        Width ??= "300px";
    }

    public string Value()
    {
        if (component.Check())
        {
            return Comments;
        }
        else
        {
            return string.Empty;
        }
    }
}

<CipherComponentCard Title="@Title" @ref=Card Width="@CardWidth" WithCard="@WithCard">
    <CipherAutoComplete @ref="component" Width="@Width" ShowErrors="true" Icon="@Icon" Label="@Label" Multiline="true" @bind-Value="Comments" Style="@TextAreaStyle()"/>
</CipherComponentCard>
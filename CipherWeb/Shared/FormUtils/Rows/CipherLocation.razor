@inject ICipherInfo _db

<RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Start" AlignItems="AlignItems.Center" Gap="5px">
    <RadzenIcon Icon="@Icon" IconColor="@Colors.PrimaryDark" Style="font-size: xx-large;" />
    <RadzenDropDownDataGrid @bind-Value=@sys Data=@vessels TextProperty="Name" ValueProperty="Name" Placeholder="@LabelText" SearchTextPlaceholder="חיפוש..."
                            AllowColumnResize="true" AllowFilteringByAllStringColumns="true" Style="@Constants.textStyle">
        <Columns>
            <RadzenDropDownDataGridColumn Property="Name" Title="שם" Width="50px" />
            <RadzenDropDownDataGridColumn Property="Storage" Title="מיקום" Width="50px" />
        </Columns>
    </RadzenDropDownDataGrid>
</RadzenStack>

@code {
    [Parameter]
    public string? sys { get; set; }

    [Parameter]
    public string LabelText { get; set; }

    [Parameter]
    public string Icon { get; set; }

    List<Vessel> vessels = new List<Vessel>();

    protected override async Task OnInitializedAsync()
    {
        vessels = await _db.GetVessels();

        if (LabelText is null)
        {
            LabelText = "מיקום";
        }
        if (Icon is null)
        {
            Icon = Icons.Location;
        }
    }
}
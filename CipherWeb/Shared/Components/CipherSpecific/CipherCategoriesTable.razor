@inject ICipherInfo _db

@inherits CipherTableCard

<CipherTableCard Title="@Title" Sharable="@Sharable">
    <ComponentContent>
    <CipherDataGrid Cipher_TItem="SubCategory" DataSource="@subCategories"
                    GridFilterMode="@FilterMode" AllowFilter="@Filter" AllowGroup="@Group"/>
    </ComponentContent>
</CipherTableCard>

@code {
    /// <summary>
    /// Filter mode of data grid. Must be a FilterMode-enum.
    /// Defaults to SimpleWithMenu.
    /// </summary>
    [Parameter]
    public FilterMode FilterMode { get; set; } = FilterMode.SimpleWithMenu;

    /// <summary>
    /// Allows/disabled filtering.
    /// </summary>
    [Parameter]
    public bool Filter { get; set; } = false;

    /// <summary>
    /// Allows/disables grouping.
    /// </summary>
    [Parameter]
    public bool Group { get; set; } = false;

    List<SubCategory> subCategories = new List<SubCategory>();

    protected override async Task OnInitializedAsync()
    {
        Title ??= "סוגים";
        subCategories = await _db.GetSubCategories();
    }
}